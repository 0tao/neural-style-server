<link rel="import" href="bower_components/polymer/polymer.html">

<link rel="import" href="output-card.html">

<dom-module id="output-cards">
  <template>
    <style>
      .output-card-list {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
    </style>
    <div class="output-card-list">
      <template is="dom-repeat" items="{{ statusArray }}">
        <output-card status="{{ item }}"></output-card>
      </template>
    </div>
  </template>
  <script src="underscore-min.js"></script>
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'output-cards',
        properties: {
          statusArray: {
            type: Array,
            value: function() { return []; },
          },
        },
        handleUpdate: function(status) {
          var index = _.findIndex(this.statusArray, function(existingStatus) {
            return existingStatus.id == status.id;
          });
          if (index == -1) {
            this.unshift('statusArray', status);
          } else {
            this.set('statusArray.' + index, status);
          }
        },
      })
    })();
  </script>
</dom-module>
